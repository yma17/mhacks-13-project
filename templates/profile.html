{% extends "base.html" %} {% set active_page = "profile" %} {% block title
%}Index{% endblock %} {% block head %} {{ super() }}
<style type="text/css"></style>
{% endblock %} {% block content %}
<div class="container-fluid">
  <h3 class="text-dark mb-4">Profile</h3>
  <div class="row mb-3">
    <div class="col-lg-4">
      <div class="card mb-3">
        <div class="card-body text-center shadow">
          <img
            class="rounded-circle mb-3 mt-4"
            src="{{picsrc}}"
            width="160"
            height="160"
          />
          <div class="mb-3">
            <button class="btn btn-primary btn-sm" type="button">
              Change Photo
            </button>
            {{uid}}
          </div>
        </div>
      </div>
      <div class="card shadow mb-4">
        <div class="card-header py-3">
          <h6 class="text-primary font-weight-bold m-0">Projects</h6>
        </div>
        <div class="card-body">
          <h4 class="small font-weight-bold">
            Server migration<span class="float-right">20%</span>
          </h4>
          <div class="progress progress-sm mb-3">
            <div
              class="progress-bar bg-danger"
              aria-valuenow="20"
              aria-valuemin="0"
              aria-valuemax="100"
              style="width: 20%;"
            >
              <span class="sr-only">20%</span>
            </div>
          </div>
          <h4 class="small font-weight-bold">
            Sales tracking<span class="float-right">40%</span>
          </h4>
          <div class="progress progress-sm mb-3">
            <div
              class="progress-bar bg-warning"
              aria-valuenow="40"
              aria-valuemin="0"
              aria-valuemax="100"
              style="width: 40%;"
            >
              <span class="sr-only">40%</span>
            </div>
          </div>
          <h4 class="small font-weight-bold">
            Customer Database<span class="float-right">60%</span>
          </h4>
          <div class="progress progress-sm mb-3">
            <div
              class="progress-bar bg-primary"
              aria-valuenow="60"
              aria-valuemin="0"
              aria-valuemax="100"
              style="width: 60%;"
            >
              <span class="sr-only">60%</span>
            </div>
          </div>
          <h4 class="small font-weight-bold">
            Payout Details<span class="float-right">80%</span>
          </h4>
          <div class="progress progress-sm mb-3">
            <div
              class="progress-bar bg-info"
              aria-valuenow="80"
              aria-valuemin="0"
              aria-valuemax="100"
              style="width: 80%;"
            >
              <span class="sr-only">80%</span>
            </div>
          </div>
          <h4 class="small font-weight-bold">
            Account setup<span class="float-right">Complete!</span>
          </h4>
          <div class="progress progress-sm mb-3">
            <div
              class="progress-bar bg-success"
              aria-valuenow="100"
              aria-valuemin="0"
              aria-valuemax="100"
              style="width: 100%;"
            >
              <span class="sr-only">100%</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-8">
      <div class="row mb-3 d-none">
        <div class="col">
          <div class="card text-white bg-primary shadow">
            <div class="card-body">
              <div class="row mb-2">
                <div class="col">
                  <p class="m-0">Peformance</p>
                  <p class="m-0"><strong>65.2%</strong></p>
                </div>
                <div class="col-auto"><i class="fas fa-rocket fa-2x"></i></div>
              </div>
              <p class="text-white-50 small m-0">
                <i class="fas fa-arrow-up"></i>&nbsp;5% since last month
              </p>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card text-white bg-success shadow">
            <div class="card-body">
              <div class="row mb-2">
                <div class="col">
                  <p class="m-0">Peformance</p>
                  <p class="m-0"><strong>65.2%</strong></p>
                </div>
                <div class="col-auto"><i class="fas fa-rocket fa-2x"></i></div>
              </div>
              <p class="text-white-50 small m-0">
                <i class="fas fa-arrow-up"></i>&nbsp;5% since last month
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="card shadow mb-3">
            <div class="card-header py-3">
              <p class="text-primary m-0 font-weight-bold">User Settings</p>
            </div>
            <div class="card-body">
              <form>
                <div class="form-row">
                  <div class="col">
                    <div class="form-group">
                      <label for="username"><strong>Username</strong></label
                      ><input
                        disabled
                        class="form-control"
                        type="text"
                        placeholder="{{user.Name}}"
                        name="username"
                      />
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group">
                      <label for="email"><strong>Email Address</strong></label
                      ><input
                        disabled
                        class="form-control"
                        type="email"
                        placeholder="{{email}}"
                        name="email"
                      />
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <div class="card shadow">
            <div class="card-header py-3">
              <p class="text-primary m-0 font-weight-bold">Skill Settings</p>
            </div>
            <div class="card-body">
              <h5>Skills</h5>
              <form action="/profile" method="post">
                <div class="skills-div">
                  {% for key, val in user['Skills'].items() %}
                  <div
                    class="form-row d-xl-flex justify-content-xl-center"
                    style="margin: 5px 0;"
                  >
                    <div
                      class="col-6 offset-2 text-left d-flex flex-row justify-content-xl-end skill"
                    >
                      <select disabled class="form-control" name="skill"
                        ><option value="{{key}}" selected
                          >{{key}}</option
                        ></select
                      >
                    </div>
                    <div class="col">
                      <input
                        disabled
                        name="skillLevel"
                        value="{{val}}"
                        class="form-control d-xl-flex justify-content-xl-center skillLevel"
                        type="number"
                        style="width: 50%;"
                      />
                    </div>
                  </div>
                  {% endfor %}
                </div>
                <div class="form-row d-xl-flex justify-content-xl-center">
                  <div class="col d-xl-flex justify-content-xl-center">
                    <button
                      id="skill-btn"
                      class="btn btn-primary border-success"
                      type="button"
                      style="margin: 10px; background-color: rgb(28, 200, 138);"
                      data-toggle="modal"
                      data-target="#skillModal"
                    >
                      Add Skill
                    </button>
                  </div>
                </div>
                <h5>Interests</h5>
                <div class="interests-div">
                  {% for key, val in user['Interests'].items() %}
                  <div
                    class="form-row d-xl-flex justify-content-xl-center"
                    style="margin: 5px 0;"
                  >
                    <div
                      class="col-6 offset-2 text-left d-flex flex-row justify-content-xl-end"
                    >
                      <select disabled class="form-control" name="interest"
                        ><option value="{{key}}" selected
                          >{{key}}</option
                        ></select
                      >
                    </div>
                    <div class="col">
                      <input
                        disabled
                        name="interestLevel"
                        value="{{val}}"
                        class="form-control d-xl-flex justify-content-xl-center"
                        type="number"
                        style="width: 50%;"
                      />
                    </div>
                  </div>
                  {% endfor %}
                </div>
                <div class="form-row d-xl-flex justify-content-xl-center">
                  <div class="col d-xl-flex justify-content-xl-center">
                    <button
                      id="interest-btn"
                      class="btn btn-primary border-success"
                      type="button"
                      style="margin: 10px; background-color: rgb(28, 200, 138);"
                      data-toggle="modal"
                      data-target="#interestModal"
                    >
                      Add Interest
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="card shadow mb-5"></div>
</div>

<!-- Modal for skill-->
<div
  class="modal fade"
  id="skillModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="skillModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <form action="/updateSkill" method="post">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add Skill</h5>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div
            class="form-row d-xl-flex justify-content-xl-center"
            style="margin: 5px 0;"
          >
            <div
              class="col-6 offset-2 text-left d-flex flex-row justify-content-xl-end"
            >
              <select class="form-control" name="interest"
                >{% for skill in allSkills %}<option value="{{skill}}"
                  >{{skill}}</option
                >
                {% endfor %}</select
              >
            </div>
            <div class="col">
              <input
                name="interestLevel"
                value="{{val}}"
                class="form-control d-xl-flex justify-content-xl-center"
                type="number"
                style="width: 50%;"
                min="0"
                max="3"
              />
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">
            Close
          </button>
          <button type="submit" class="btn btn-primary">Save changes</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Modal for interest-->
<div
  class="modal fade"
  id="interestModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="interestModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <form action="/updateInterest" method="post">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add Interest</h5>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div
            class="form-row d-xl-flex justify-content-xl-center"
            style="margin: 5px 0;"
          >
            <div
              class="col-6 offset-2 text-left d-flex flex-row justify-content-xl-end"
            >
              <select class="form-control" name="interest"
                >{% for skill in allSkills %}<option value="{{skill}}"
                  >{{skill}}</option
                >
                {% endfor %}</select
              >
            </div>
            <div class="col">
              <input
                name="interestLevel"
                value="{{val}}"
                class="form-control d-xl-flex justify-content-xl-center"
                type="number"
                style="width: 50%;"
                min="0"
                max="3"
              />
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">
            Close
          </button>
          <button type="submit" class="btn btn-primary">Save changes</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- <script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"
></script>
<script>
  $(document).ready(function () {
    $("#skill-btn").click(function () {
      $(".skills-div").append(
        "<div class='form-row d-xl-flex justify-content-xl-center' " +
          "style='margin: 5px 0;'><div class='col-6 offset-2 text-left d-flex flex-row justify-content-xl-end'> " +
          "<select class='form-control skill' name='skill'> " +
          "{% for skill in allSkills %}<option value='{{skill}}'>{{skill}}</option> {% endfor %} " +
          "</select></div><div class='col'><input " +
          "class='form-control d-xl-flex justify-content-xl-center skillLevel' " +
          "name='skillLevel' type='number' min='0' max='3' style='width: 50%;' />" +
          "</div></div>"
      );
    });

    $("#interest-btn").click(function () {
      $(".interests-div").append(
        "<div class='form-row d-xl-flex justify-content-xl-center' " +
          "style='margin: 5px 0;'><div class='col-6 offset-2 text-left d-flex flex-row justify-content-xl-end'> " +
          "<select class='form-control interest' name='interest'> " +
          "{% for skill in allSkills %}<option value='{{skill}}'>{{skill}}</option> {% endfor %} " +
          "</select></div><div class='col'><input " +
          "class='form-control d-xl-flex justify-content-xl-center interestLevel' " +
          "name='interestLevel' type='number' min='0' max='3' style='width: 50%;' />" +
          "</div></div>"
      );
    });

    $("#submit-btn").click(function () {
      var skillsDict;
      $(".skill").each(function (i, obj) {
        console.log(obj.val());
      });

      var serviceid = document.getElementById("field").value;
      $.post("/serviceidlookup", { serviceid: serviceid }).done(function (
        reply
      ) {
        $("#reply").empty().append(reply);
      });
    });
  });
</script> -->

{% endblock %}
